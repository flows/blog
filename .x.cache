{"dependencies":{"npm":{"path":"latest","glob":"3.x.x","chix-group":"psichi/chix-group","dot-object":"0.x.x","handlebars":"latest","marked":"latest"}},"nodeDefinitions":{"./graphs/{ns}/{name}.fbp":{"rh":{"site":{"id":"98f93a27-1210-4633-b651-be6bc9bd8d37","type":"flow","nodes":[{"id":"a055d402-0afc-4fde-ac8b-ca5da3d68754","title":"BaseName","ns":"path","name":"basename","context":{"ext":".md"},"provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"163ae4e5-5721-4846-948b-99dd92552e3a","title":"Glob","ns":"fs","name":"glob","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"1be7621d-a6e3-44d2-8df9-c137b0a9667b","title":"HtmlFile","ns":"fs","name":"file","context":{"ext":".html"},"provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"0311991e-b333-4bbe-8d99-c895b73dfa15","title":"Log","ns":"console","name":"log","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"829d1dbf-6731-40ed-8117-d918da73428b","title":"WriteFile","ns":"fs","name":"writeFile","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"6ffc0995-b154-458e-b2c1-dea86c2c06b7","title":"LayoutTemplate","ns":"common","name":"template","provider":"./graphs/rh/{ns}/{name}.fbp"},{"id":"a2dca18f-2f4e-4024-89ba-4b6fe8610105","title":"SiteTemplate","ns":"common","name":"template","provider":"./graphs/rh/{ns}/{name}.fbp"},{"id":"c90c04e8-9947-46ab-be84-bb7f47349b2a","title":"Markdown","ns":"common","name":"markdown","provider":"./graphs/rh/{ns}/{name}.fbp"},{"id":"4b116d7e-f629-40e6-861b-2e25b85dc869","title":"EnsureDir","ns":"common","name":"createDir","provider":"./graphs/rh/{ns}/{name}.fbp"},{"id":"067cd4e0-2c8e-40d6-9226-87972794b12f","title":"WriteResults","ns":"object","name":"group","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}],"links":[{"id":"103bdea9-cb6f-4bc2-a7d6-069d150ae017","source":{"id":"4b116d7e-f629-40e6-861b-2e25b85dc869","port":"out"},"target":{"id":"1be7621d-a6e3-44d2-8df9-c137b0a9667b","port":"dir","setting":{"persist":true}},"metadata":{"title":"EnsureDir out -> dir HtmlFile"}},{"id":"176e91c2-8f70-4fb7-a210-471825380941","source":{"id":"163ae4e5-5721-4846-948b-99dd92552e3a","port":"match"},"target":{"id":"c90c04e8-9947-46ab-be84-bb7f47349b2a","port":"file"},"metadata":{"title":"Glob match -> file Markdown"}},{"id":"91514002-4a1d-4d58-80af-79ca277b71a4","source":{"id":"163ae4e5-5721-4846-948b-99dd92552e3a","port":"match"},"target":{"id":"a055d402-0afc-4fde-ac8b-ca5da3d68754","port":"path"},"metadata":{"title":"Glob match -> path BaseName"}},{"id":"e0545f48-6a2f-432e-99d5-e64d99c2d819","source":{"id":"a055d402-0afc-4fde-ac8b-ca5da3d68754","port":"result"},"target":{"id":"1be7621d-a6e3-44d2-8df9-c137b0a9667b","port":"name"},"metadata":{"title":"BaseName result -> name HtmlFile"}},{"id":"2cf8877a-a6d5-40a7-8dc2-57f0796db1b5","source":{"id":"829d1dbf-6731-40ed-8117-d918da73428b","port":":complete"},"target":{"id":"067cd4e0-2c8e-40d6-9226-87972794b12f","port":"in"},"metadata":{"title":"WriteFile :complete -> in WriteResults"}},{"id":"a59202a8-e643-45f3-bb51-7bd29e3bce36","source":{"id":"163ae4e5-5721-4846-948b-99dd92552e3a","port":"xmatch"},"target":{"id":"067cd4e0-2c8e-40d6-9226-87972794b12f","port":"xin"},"metadata":{"title":"Glob xmatch -> xin WriteResults"}},{"id":"304121f7-1fb0-4af0-8b15-573184c83f5e","source":{"id":"1be7621d-a6e3-44d2-8df9-c137b0a9667b","port":"file"},"target":{"id":"829d1dbf-6731-40ed-8117-d918da73428b","port":"file"},"metadata":{"title":"HtmlFile file -> file WriteFile"}},{"id":"50e52414-4e09-42b2-ae94-40249d9c85ed","source":{"id":"c90c04e8-9947-46ab-be84-bb7f47349b2a","port":"out"},"target":{"id":"a2dca18f-2f4e-4024-89ba-4b6fe8610105","port":"in"},"metadata":{"title":"Markdown out -> in SiteTemplate"}},{"id":"695fe6b0-b71e-42dd-bc96-f98682d44be8","source":{"id":"a2dca18f-2f4e-4024-89ba-4b6fe8610105","port":"out"},"target":{"id":"6ffc0995-b154-458e-b2c1-dea86c2c06b7","port":"in"},"metadata":{"title":"SiteTemplate out -> in LayoutTemplate"}},{"id":"ec781ad3-cb8f-4f00-884d-f5e78f5207b0","source":{"id":"6ffc0995-b154-458e-b2c1-dea86c2c06b7","port":"out"},"target":{"id":"829d1dbf-6731-40ed-8117-d918da73428b","port":"in"},"metadata":{"title":"LayoutTemplate out -> in WriteFile"}}],"title":"Site","ns":"rh","name":"site","description":"Generates HTML pages from markdown documents","providers":{"blog":{"path":"./graphs/rh/{ns}/{name}.fbp","name":"blog"},"@":{"url":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}},"ports":{"input":{"pattern":{"nodeId":"163ae4e5-5721-4846-948b-99dd92552e3a","title":"Pattern","name":"match"},"dir":{"nodeId":"4b116d7e-f629-40e6-861b-2e25b85dc869","title":"Dir","name":"in"},"siteTemplate":{"nodeId":"a2dca18f-2f4e-4024-89ba-4b6fe8610105","title":"SiteTemplate","name":"file","setting":{"persist":true}},"layoutTemplate":{"nodeId":"6ffc0995-b154-458e-b2c1-dea86c2c06b7","title":"LayoutTemplate","name":"file","setting":{"persist":true}}}},"provider":"./graphs/{ns}/{name}.fbp"}}},"http://serve-chix.rhcloud.com/nodes/{ns}/{name}":{},"./graphs/rh/{ns}/{name}.fbp":{"common":{"template":{"id":"92af2640-4049-43f9-87cf-4dbf3b26547f","type":"flow","nodes":[{"id":"92f3b249-563a-4d60-8ae8-17ee769bf32c","title":"Layout","ns":"fs","name":"readFile","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"6dc16fb5-4a0e-4cca-9ce4-4458d4bcd3d2","title":"MainBody","ns":"object","name":"set","context":{"path":"body"},"provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"7c9422d8-4460-4b68-a3f0-4313cee63579","title":"HandleBars","ns":"template","name":"handlebars","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}],"links":[{"id":"5ba07d2f-dc56-4f94-b132-2bcafd636cab","source":{"id":"92f3b249-563a-4d60-8ae8-17ee769bf32c","port":"out"},"target":{"id":"7c9422d8-4460-4b68-a3f0-4313cee63579","port":"body","setting":{"persist":true}},"metadata":{"title":"Layout out -> body HandleBars"}},{"id":"f480ed01-41c1-40da-9d1d-849577423370","source":{"id":"6dc16fb5-4a0e-4cca-9ce4-4458d4bcd3d2","port":"out"},"target":{"id":"7c9422d8-4460-4b68-a3f0-4313cee63579","port":"vars"},"metadata":{"title":"MainBody out -> vars HandleBars"}}],"title":"SiteTemplate","ns":"common","name":"template","description":"Read Template and Process with Handlebars","ports":{"input":{"file":{"nodeId":"92f3b249-563a-4d60-8ae8-17ee769bf32c","title":"File","name":"file","setting":{"persist":true}},"in":{"nodeId":"6dc16fb5-4a0e-4cca-9ce4-4458d4bcd3d2","title":"In","name":"in"}},"output":{"out":{"nodeId":"7c9422d8-4460-4b68-a3f0-4313cee63579","title":"Out","name":"out"}}},"providers":{"@":{"url":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}},"provider":"./graphs/rh/{ns}/{name}.fbp"},"markdown":{"id":"bac1cf59-1fd9-4ce2-9da7-f18c871606ad","type":"flow","nodes":[{"id":"66b64a5b-fb84-4cb3-bce0-fded930e3fff","title":"ReadFile","ns":"fs","name":"readFile","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"11391d01-ada0-4088-9ff1-b561fc5b762e","title":"Markdown","ns":"template","name":"markdown","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}],"links":[{"id":"6cc73f80-d7b9-4f46-adee-cb5eb434d4c8","source":{"id":"66b64a5b-fb84-4cb3-bce0-fded930e3fff","port":"out"},"target":{"id":"11391d01-ada0-4088-9ff1-b561fc5b762e","port":"in"},"metadata":{"title":"ReadFile out -> in Markdown"}}],"title":"Markdown","description":"Reads a markdown file and processes it","ns":"common","name":"markdown","ports":{"input":{"file":{"nodeId":"66b64a5b-fb84-4cb3-bce0-fded930e3fff","title":"File","name":"file"}},"output":{"out":{"nodeId":"11391d01-ada0-4088-9ff1-b561fc5b762e","title":"Out","name":"out"}}},"providers":{"@":{"url":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}},"provider":"./graphs/rh/{ns}/{name}.fbp"},"createDir":{"id":"f22dfe4e-ed00-47db-8e04-cac672e4965f","type":"flow","nodes":[{"id":"c6189b62-94e9-458a-8575-c824661a7f3d","title":"MkDir","ns":"fs","name":"mkdir","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"51b71265-3420-446b-a1d3-75a4bc64db6b","title":"DirExists","ns":"fs","name":"exists","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"f1c56bde-b66f-4a6b-b2e3-71ed1ed0022c","title":"Complete","ns":"utils","name":"dummy","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}],"links":[{"id":"5a9b61b0-912f-4332-9e0e-31cfcdf76084","source":{"id":"51b71265-3420-446b-a1d3-75a4bc64db6b","port":"no"},"target":{"id":"c6189b62-94e9-458a-8575-c824661a7f3d","port":"path"},"metadata":{"title":"DirExists no -> path MkDir"}},{"id":"e6337303-2707-48cd-9283-d3f095f0b602","source":{"id":"c6189b62-94e9-458a-8575-c824661a7f3d","port":"path"},"target":{"id":"f1c56bde-b66f-4a6b-b2e3-71ed1ed0022c","port":"in"},"metadata":{"title":"MkDir path -> in Complete"}},{"id":"b834e3e7-9404-4ef9-ba69-1af861a643b7","source":{"id":"51b71265-3420-446b-a1d3-75a4bc64db6b","port":"yes"},"target":{"id":"f1c56bde-b66f-4a6b-b2e3-71ed1ed0022c","port":"in"},"metadata":{"title":"DirExists yes -> in Complete"}}],"title":"EnsureDir","ns":"common","name":"createDir","ports":{"input":{"in":{"nodeId":"51b71265-3420-446b-a1d3-75a4bc64db6b","title":"In","name":"path"}},"output":{"out":{"nodeId":"f1c56bde-b66f-4a6b-b2e3-71ed1ed0022c","title":"Out","name":"out"}}},"providers":{"@":{"url":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}},"provider":"./graphs/rh/{ns}/{name}.fbp"}}},"https://serve-chix.rhcloud.com/nodes/{ns}/{name}":{"path":{"basename":{"_id":"52645992df5da01025000047","name":"basename","ns":"path","description":"Path basename","phrases":{"active":"Getting basename for {{input.path}} and extension {{input.ext}}"},"ports":{"input":{"path":{"title":"Path","type":"string"},"ext":{"title":"Extension","type":"string"}},"output":{"result":{"title":"Result","type":"string"}}},"dependencies":{"npm":{"path":"latest"}},"fn":"output = {result: $.create(path.basename($.path, $.ext))}\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"BaseName"}},"fs":{"glob":{"_id":"52645993df5da0102500004f","name":"glob","ns":"fs","title":"Glob","description":"Match files using the patterns the shell uses, like stars and stuff.","phrases":{"active":"Globbing with pattern: {{input.pattern}}"},"ports":{"input":{"match":{"type":"string","title":"Pattern","description":"Pattern to be matched","required":true}},"output":{"error":{"type":"event","title":"Error","description":"Emitted when an unexpected error is encountered, or whenever any fs error occurs if `options.strict` is set."},"matches":{"type":"array","title":"Matches","description":"Filenames found matching the pattern"},"end":{"type":"event","title":"End","description":"When the matching is finished, this is emitted with all the matches found. If the `nonull` option is set, and no match was found, then the `matches` list contains the original pattern. The matches are sorted, unless the `nosort` flag is set."},"match":{"type":"event","title":"Match","description":"Every time a match is found, this is emitted with the matched."},"xmatch":{"type":"event","title":"Xmatch","description":"Used for transmitting the groupID."},"abort":{"type":"event","title":"Abort","description":"When `abort()` is called, this event is raised."}}},"dependencies":{"npm":{"glob":"3.x.x","chix-group":"latest"}},"fn":"output = function (cb) {\n  var g = chix_group.send.create()\n  cb({xmatch: g.open()})\n\n  setTimeout(function() {\n    var mg = new glob.Glob($.match, {}, function (err, matches) {\n      cb({\n        matches: $.create(matches)\n      });\n    });\n\n    mg.on('match', function (match) {\n      cb({match: g.write($.create(match))});\n    });\n\n    mg.on('end', function () {\n      cb({xmatch: g.close()})\n      done();\n    });\n\n    mg.on('error', function (err) {\n      cb({error: $.create(err)});\n    });\n\n    mg.on('abort', function () {\n      cb({abort: $.create(null)});\n    });\n  }, 0)\n}\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},"file":{"_id":"52ef361bcf8e1bab142d536a","name":"file","ns":"fs","description":"Create a filename based on dir, name and optional extenstion","phrases":{"active":"Created filename {{input.dir}}/{{input.name}}{{input.ext}}"},"ports":{"input":{"name":{"title":"Name","type":"string","required":true},"dir":{"title":"Directory","type":"string"},"ext":{"title":"Extension","type":"string"}},"output":{"file":{"title":"File","type":"string"}}},"dependencies":{"npm":{"path":"builtin"}},"fn":"var file = $.ext ? $.name + $.ext : $.name;\noutput.file = $.create($.dir ? path.normalize([$.dir, file].join(path.sep)) : file);\n","env":"server","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"HtmlFile"},"writeFile":{"_id":"52645992df5da01025000046","name":"writeFile","ns":"fs","description":"fs writeFile","phrases":{"active":"Writing file {{input.file}}"},"ports":{"input":{"file":{"type":"string"},"in":{"type":"string"},"encoding":{"title":"Encoding","type":"string","default":"utf-8"},"mode":{"title":"Mode","type":"number","default":438},"flag":{"title":"Flag","type":"string","default":"w"}},"output":{"error":{"title":"Error","type":"object"},"out":{"title":"Output","type":"string"}}},"dependencies":{"npm":{"fs":"builtin"}},"fn":"output = function() {\n  fs.writeFile($.file, $.in, {\n    encoding: $.encoding,\n    mode: $.mode,\n    flag: $.flag\n  }, function(err) {\n    if (err) {\n      cb({error: $.create(err)})\n    } else {\n      cb({out: $.write('in', this.data)})\n    }\n    done()\n  }.bind({data: $.in}))\n}\n","env":"server","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"WriteFile"},"readFile":{"_id":"52645992df5da0102500003a","name":"readFile","ns":"fs","title":"ReadFile","description":"fs readFile","phrases":{"active":"Reading file {{input.file}} ({{input.options.encoding}}, {{input.options.flag}})"},"async":true,"ports":{"input":{"file":{"title":"Filename","type":"string","required":true,"async":true},"encoding":{"title":"Encoding","type":"string","default":"utf-8"},"flag":{"title":"Flag","type":"string","default":"r"}},"output":{"error":{"title":"Error","type":"object"},"out":{"title":"Out","type":"string"}}},"dependencies":{"npm":{"fs":"builtin"}},"fn":"on.input.file = function() {\n  fs.readFile($.file, {\n    flag: $.flag,\n    encoding: $.encoding\n  }, function(err, contents) {\n    if (err) {\n      output({error: $.create(err)})\n    } else {\n      output({out: $.create(contents)})\n    }\n  })\n}\n","env":"server","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},"mkdir":{"_id":"52645992df5da01025000037","name":"mkdir","ns":"fs","description":"fs mkdir","async":true,"phrases":{"active":"Creating directory {{input.path}}"},"ports":{"input":{"path":{"title":"Path","type":"string","async":true},"mode":{"title":"Mode","type":"number","default":511}},"output":{"path":{"title":"Path","type":"string","async":true},"error":{"title":"Error","type":"Error"}}},"dependencies":{"npm":{"fs":"builtin"}},"fn":"on.input.path = function() {\n  fs.mkdir($.path, $.mode, function(err) {\n    if(err) {\n      output({error: $.create(err)});\n    } else {\n      output({path: $.get('path')});\n    }\n  });\n};\n","env":"server","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"MkDir"},"exists":{"_id":"52645992df5da0102500002c","name":"exists","ns":"fs","async":true,"description":"fs exists","phrases":{"active":"Checking whether file {{input.path}} exists"},"ports":{"input":{"path":{"type":"string","async":true}},"output":{"yes":{"title":"Exists","type":"string"},"no":{"title":"Absent","type":"string"}}},"dependencies":{"npm":{"fs":"builtin"}},"fn":"on.input.path = function() {\n  fs.exists($.path, function(yes) {\n    if(yes) {\n      output( { yes: $.get('path') } );\n    } else {\n      output( { no: $.get('path') } );\n    }\n  });\n};\n","env":"server","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"DirExists"}},"console":{"log":{"_id":"52645993df5da0102500004e","name":"log","ns":"console","description":"Console log","async":true,"phrases":{"active":"Logging to console"},"ports":{"input":{"msg":{"type":"any","title":"Log message","description":"Logs a message to the console","async":true,"required":true}},"output":{"out":{"type":"any","title":"Log message"}}},"fn":"on.input.msg = function() {\n  console.log($.msg);\n  output( { out: $.get('msg') });\n}\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"Log"}},"object":{"group":{"_id":"52ef362fcf8e1bab142d5381","name":"group","ns":"object","async":true,"description":"Groups input into an array","phrases":{"active":"Grouping object"},"ports":{"input":{"xin":{"title":"In Group","type":"any","async":true},"in":{"title":"Object","type":"any","async":true}},"output":{"xout":{"title":"Xout","type":"array"},"out":{"title":"out","group":"result","type":"any"}}},"dependencies":{"npm":{"chix-group":"psichi/chix-group"}},"fn":"on.start = function start() {\n  state.group = chix_group.recv.create()\n  state.$ = null\n  state.group.on('group', function groupHandler(group) {\n    var p = state.$.create(group)\n    p.removeMeta('chix-group')\n    output({out: p})\n  })\n}\n\non.input.in = function () {\n  state.group.add($.get('in'))\n  state.$ = $\n};\n\non.input.xin = function () {\n  state.group.receive($.get('xin'))\n  state.$ = $\n};\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"WriteResults"},"set":{"_id":"52ef3631cf8e1bab142d5399","name":"set","ns":"object","async":true,"description":"Set a property on an object, or else create a new object and set the property","phrases":{"active":"Setting property {{input.key}}"},"dependencies":{"npm":{"dot-object":"0.x.x"}},"ports":{"input":{"in":{"title":"Value","type":"any","async":true},"path":{"title":"Path","type":"string"},"object":{"title":"Object","type":"object","default":null}},"output":{"out":{"title":"out","type":"object"}}},"fn":"on.input.in = function() {\n  var obj = $.object ? $.object : {};\n  dot_object().set($.path, $.in, obj);\n  output({out: $.write('in', obj)});\n};\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"MainBody"}},"template":{"handlebars":{"_id":"52ea878d1905561c7aa3bdbc","name":"handlebars","ns":"template","description":"Handlebars Template engine","phrases":{"active":"Compiling handlebars template"},"ports":{"input":{"body":{"type":"string","format":"html","title":"Template body","description":"The body of the handlebars template","required":true},"vars":{"type":"object","title":"Input variables","description":"the input variables for this template","default":{}},"handlebars":{"type":"function","title":"Handlebars","default":null}},"output":{"out":{"title":"HTML","type":"string"}}},"dependencies":{"npm":{"handlebars":"latest"}},"fn":"var hb = $.handlebars || handlebars;\nvar tpl = hb.compile($.body);\noutput = {out: $.create(tpl($.vars))}\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"HandleBars"},"markdown":{"_id":"52645993df5da0102500005d","name":"markdown","ns":"template","async":true,"description":"Markdown","phrases":{"active":"Creating markdown document"},"ports":{"input":{"in":{"type":"string","title":"Body","format":"markdown","description":"The body of this markdown document","async":true}},"output":{"out":{"title":"HTML","type":"string"}}},"dependencies":{"npm":{"marked":"latest"}},"fn":"on.input.in = function() {\n  output( { out: $.write('in', marked($.in)) });\n};\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"Markdown"}},"utils":{"dummy":{"_id":"52ef363dcf8e1bab142d53bb","name":"dummy","ns":"utils","title":"Complete","description":"Takes an input and passes it to output.","phrases":{"active":"Dummy"},"ports":{"input":{"in":{"type":"any","title":"Input"}},"output":{"out":{"type":"any","title":"Output"}}},"fn":"output.out = $.get('in')\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}}}}}