{"requires":["handlebars@latest"],"nodeDefinitions":{"./graphs/{ns}/{name}.fbp":{"common":{"template":{"id":"8cc73b1d-57d0-457a-9320-93c78304df3a","type":"flow","links":[{"id":"4c7419c0-8d20-4bf9-9eac-1b79206d4100","source":{"id":"7b1ad32d-8ea9-4b23-969e-3d9697842012","port":"out"},"target":{"id":"6a47ae66-be98-46cd-824f-10307ade274d","port":"body","setting":{"persist":true}},"metadata":{"title":"Layout out -> body HandleBars"}},{"id":"a8ec666b-ff83-48bb-81b7-2bc50e642c80","source":{"id":"e7e3c57f-c532-4263-b312-89be0c87df66","port":"out"},"target":{"id":"6a47ae66-be98-46cd-824f-10307ade274d","port":"vars"},"metadata":{"title":"MainBody out -> vars HandleBars"}}],"nodes":[{"id":"7b1ad32d-8ea9-4b23-969e-3d9697842012","title":"Layout","ns":"fs","name":"readFile","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"e7e3c57f-c532-4263-b312-89be0c87df66","title":"MainBody","ns":"object","name":"set","context":{"key":"body"},"provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"},{"id":"6a47ae66-be98-46cd-824f-10307ade274d","title":"HandleBars","ns":"template","name":"handlebars","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}],"title":"ReadTemplate","ns":"common","name":"template","description":"Read Template and Process with Handlebars","ports":{"input":{"file":{"nodeId":"7b1ad32d-8ea9-4b23-969e-3d9697842012","title":"File","name":"file","setting":{"persist":true}},"in":{"nodeId":"e7e3c57f-c532-4263-b312-89be0c87df66","title":"In","name":"in"}},"output":{"out":{"nodeId":"6a47ae66-be98-46cd-824f-10307ade274d","title":"Out","name":"out"}}},"providers":{"@":{"url":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}},"provider":"./graphs/{ns}/{name}.fbp"}}},"https://serve-chix.rhcloud.com/nodes/{ns}/{name}":{"console":{"log":{"_id":"52645993df5da0102500004e","name":"log","ns":"console","description":"Console log","async":true,"phrases":{"active":"Logging to console"},"ports":{"input":{"msg":{"type":"any","title":"Log message","description":"Logs a message to the console","async":true,"required":true}},"output":{"out":{"type":"any","title":"Log message"}}},"fn":"on.input.msg = function() {\n  console.log(data);\n  output( { out: data });\n}\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"Log"}},"fs":{"readFile":{"_id":"52645992df5da0102500003a","name":"readFile","ns":"fs","title":"Layout","description":"fs readFile","phrases":{"active":"Reading file {{input.file}} ({{input.options.encoding}}, {{input.options.flag}})"},"require":{"fs":"builtin"},"ports":{"input":{"file":{"title":"Filename","type":"string","required":true},"encoding":{"title":"Encoding","type":"string","default":"utf-8"},"flag":{"title":"Flag","type":"string","default":"r"}},"output":{"error":{"title":"Error","type":"object"},"out":{"title":"Out","type":"object"}}},"fn":"output = [fs, 'readFile', input.file, {\n  flag: input.flag,\n  encoding: input.encoding\n}];\n","env":"server","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}"}},"object":{"set":{"_id":"52ef3631cf8e1bab142d5399","name":"set","ns":"object","description":"Set a property on an object, or else create a new object and set the property","phrases":{"active":"Setting property {{input.key}}"},"ports":{"input":{"in":{"title":"Value","type":"any"},"key":{"title":"Key","type":"string"},"object":{"title":"Object","type":"object","default":null}},"output":{"out":{"title":"out","type":"object"}}},"fn":"var obj = input.object ? input.object : {};\nobj[input.key] = input. in ;\noutput.out = obj;\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"MainBody"}},"template":{"handlebars":{"_id":"52ea878d1905561c7aa3bdbc","name":"handlebars","ns":"template","description":"Handlebars Template engine","require":{"handlebars":"latest"},"phrases":{"active":"Compiling handlebars template"},"ports":{"input":{"body":{"type":"string","format":"html","title":"Template body","description":"The body of the handlebars template","required":true},"vars":{"type":"object","title":"Input variables","description":"the input variables for this template","required":true},"handlebars":{"type":"function","title":"Handlebars","default":null}},"output":{"out":{"title":"HTML","type":"string"}}},"fn":"var hb = input.handlebars || handlebars;\nvar tpl = hb.compile(input.body);\noutput = {\n  out: tpl(input.vars)\n}\n","provider":"https://serve-chix.rhcloud.com/nodes/{ns}/{name}","title":"HandleBars"}}}}}